// Debug
window.log=function(){log.history=log.history||[],log.history.push(arguments);if(this.console){arguments.callee=arguments.callee.caller;var e=[].slice.call(arguments);typeof console.log=="object"?log.apply.call(console.log,console,e):console.log.apply(console,e)}},function(e){function t(){}for(var n="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn".split(","),r;r=n.pop();)e[r]=e[r]||t}(function(){try{return console.log(),window.console}catch(e){return window.console={}}}()),function(e){e.fn.picture=function(t){var n={container:null,ignorePixelRatio:!1,useLarger:!1,insertElement:">a",inlineDimensions:!1},r=e.extend({},n,t);this.each(function(){function t(t){if(t){if(a.get(0).tagName.toLowerCase()=="figure"){var f=a.data();e.each(f,function(e){var t;t=e.replace(/[^\d.]/g,""),t&&s.push(parseInt(t))})}else a.find("source").each(function(){var t,n;t=e(this).attr("media"),t&&(n=t.replace(/[^\d.]/g,""),s.push(parseInt(n)))});s.sort(function(e,t){return e-t})}var c=0;r.container==null?o=e(window).width()*l:o=e(r.container).width()*l,e.each(s,function(e,t){parseInt(o)>=parseInt(t)&&parseInt(c)<=parseInt(t)&&(c=t)}),r.useLarger&&(idx=s.indexOf(c),idx<s.length-1&&(c=s[idx+1])),u!==c&&(u=c,a.get(0).tagName.toLowerCase()=="figure"?i():n())}function n(){var t=new Object;a.find("source").each(function(){var n,r,i;n=e(this).attr("media"),r=e(this).attr("src"),n?i=n.replace(/[^\d.]/g,""):i=0,t[i]=r});if(a.find("img").length==0){var n='<img src="'+t[u]+'"';a.attr("style")&&(n+=' style="'+a.attr("style")+'"'),a.attr("alt")&&(n+=' alt="'+a.attr("alt")+'"'),n+=">",e(r.insertElement,a).length==0?a.append(n):e(r.insertElement,a).append(n)}else a.find("img").attr("src",t[u]);r.inlineDimensions&&e("<img/>").attr("src",e("img",a).attr("src")).load(function(){e("img",a).attr("height",this.height),e("img",a).attr("width",this.width)})}function i(){var t=new Object,n=a.data();e.each(n,function(e,n){var r;r=e.replace(/[^\d.]/g,""),r||(r=0),t[r]=n});if(a.find("img").length==0){var i='<img src="'+t[u]+'"';a.attr("style")&&(i+=' style="'+a.attr("style")+'"'),a.attr("title")&&(i+=' alt="'+a.attr("title")+'"'),i+=">",e(r.insertElement,a).length==0?a.append(i):e(r.insertElement,a).append(i)}else e("img",a).attr("src",t[u]);r.inlineDimensions&&e("<img/>").attr("src",e("img",a).attr("src")).load(function(){e("img",a).attr("height",this.height),e("img",a).attr("width",this.width)})}var s=new Array,o,u,a,f,l=1;!r.ignorePixelRatio&&window.devicePixelRatio!==undefined&&(l=window.devicePixelRatio),a=e(this),a.find("noscript").remove(),t(!0),f=!1,e(window).resize(function(){f!==!1&&clearTimeout(f),f=setTimeout(t,200)})})}}(jQuery),!function(e,t,n){"use strict";function r(e,t){t=t||{},this.$el=y(),this.$shadow=y(),e.append(this.$el),this.lazy=!!t.lazy,this.lazyFn=t.lazy||null,i(this),this.top=this.$el.offset().top,this.width=0,this.height=0,this.pages=[],this.startIndex=0,k.attach(this)}function i(e){e._$buffer=y().prependTo(e.$el)}function s(e){var t,n=e.pages,r=e._$buffer;n.length>0?(t=n[e.startIndex],r.height(t.top)):r.height(0)}function o(e,t){t.$el.remove(),e.$el.append(t.$el),g(t,e.height),t.$el.remove()}function u(e){var n,r,i,s=e.pages,o=!1,u=!0;n=e.startIndex,r=t.min(n+C,s.length);for(n;n<r;n++)i=s[n],e.lazy&&i.lazyload(e.lazyFn),o&&i.onscreen&&(u=!1),u?i.onscreen||(o=!0,i.appendTo(e.$el)):(i.stash(e.$shadow),i.appendTo(e.$el))}function a(e){var n,r,i,o,a,f=e.startIndex,l=w.scrollTop()-e.top,c=w.height(),p=l+c,d=h(e,l,p);if(d<0||d===f)return f;i=e.pages,f=e.startIndex,o=t.min(f+C,i.length),a=t.min(d+C,i.length);for(n=f,r=o;n<r;n++)(n<d||n>=a)&&i[n].stash(e.$shadow);return e.startIndex=d,u(e),s(e),d}function f(e,t){var r;return t instanceof m?t:(typeof t=="string"&&(t=n(t)),r=new m(t),o(e,r),r)}function l(e,t){c(e)}function c(e){var t,n,r,i,s,o,a,f,l,c=e.pages,h=[];n=new d(e),h.push(n);for(r=0,i=c.length;r<i;r++){t=c[r],a=t.items;for(s=0,o=a.length;s<o;s++)f=a[s],l=f.clone(),n.hasVacancy()?n.append(l):(n=new d(e),h.push(n),n.append(l));t.remove()}e.pages=h,u(e)}function h(e,n,r){var i=p(e,n,r);return i=t.max(i-N,0),i=t.min(i,e.pages.length),i}function p(e,n,r){var i,s,o,u,a,f,l,c=e.pages,h=n+(r-n)/2;u=t.min(e.startIndex+N,c.length-1);if(c.length<=0)return-1;o=c[u],a=o.top+o.height/2,l=h-a;if(l<0){for(i=u-1;i>=0;i--){o=c[i],a=o.top+o.height/2,f=h-a;if(f>0)return f<-l?i:i+1;l=f}return 0}if(l>0){for(i=u+1,s=c.length;i<s;i++){o=c[i],a=o.top+o.height/2,f=h-a;if(f<0)return-f<l?i:i-1;l=f}return c.length-1}return u}function d(e){this.parent=e,this.items=[],this.$el=y(),this.id=L.generatePageId(this),this.$el.attr(T,this.id),this.top=0,this.bottom=0,this.width=0,this.height=0,this.lazyloaded=!1,this.onscreen=!1}function v(e,t){var n,r,i,s=t.items;for(n=0,r=s.length;n<r;n++)if(s[n]===e){i=n;break}return i==null?!1:(s.splice(i,1),t.bottom-=e.height,t.height=t.bottom-t.top,t.hasVacancy()&&l(t.parent,t),!0)}function m(e){this.$el=e,this.parent=null,this.top=0,this.bottom=0,this.width=0,this.height=0}function g(e,t){var n=e.$el;e.top=t,e.height=n.outerHeight(!0),e.bottom=e.top+e.height,e.width=n.width()}function y(){return n("<div>").css({margin:0,padding:0,border:"none"})}function b(e){var t;e?(t=e.ListView,n.fn.listView=function(e){return new t(this,e)}):delete n.fn.listView}var w=n(e),E=e.infinity,S=e.infinity={},x=S.config={},T="data-infinity-pageid",N=1,C=N*2+1;x.PAGE_TO_SCREEN_RATIO=3,x.SCROLL_THROTTLE=350,r.prototype.append=function(e){if(!e||!e.length)return null;var t,n=f(this,e),r=this.pages;this.height+=n.height,this.$el.height(this.height),t=r[r.length-1];if(!t||!t.hasVacancy())t=new d(this),r.push(t);return t.append(n),u(this),n},r.prototype.remove=function(){this.$el.remove(),this.cleanup()},r.prototype.find=function(e){var t,r,i;return typeof e=="string"?(r=this.$el.find(e),i=this.$shadow.find(e),this.find(r).concat(this.find(i))):e instanceof m?[e]:(t=[],e.each(function(){var e,r,i,s,o,u,a=n(this).parentsUntil("["+T+"]").andSelf().first(),f=a.parent();e=f.attr(T),r=L.lookup(e);if(r){i=r.items;for(s=0,o=i.length;s<o;s++){u=i[s];if(u.$el.is(a)){t.push(u);break}}}}),t)},r.prototype.cleanup=function(){var e=this.pages,t;k.detach(this);while(t=e.pop())t.cleanup()};var k=function(){function e(){s||(setTimeout(t,x.SCROLL_THROTTLE),s=!0)}function t(){var e,t;for(e=0,t=u.length;e<t;e++)a(u[e]);s=!1}function n(){o&&clearTimeout(o),o=setTimeout(r,200)}function r(){var e,t;for(e=0;t=u[e];e++)c(t)}var i=!1,s=!1,o=null,u=[];return{attach:function(t){i||(w.on("scroll",e),w.on("resize",n),i=!0),u.push(t)},detach:function(t){var r,s;for(r=0,s=u.length;r<s;r++)if(u[r]===t)return u.splice(r,1),u.length===0&&(w.off("scroll",e),w.off("resize",n),i=!1),!0;return!1}}}();d.prototype.append=function(e){var t=this.items;t.length===0&&(this.top=e.top),this.bottom=e.bottom,this.width=this.width>e.width?this.width:e.width,this.height=this.bottom-this.top,t.push(e),e.parent=this,this.$el.append(e.$el),this.lazyloaded=!1},d.prototype.prepend=function(e){var t=this.items;this.bottom+=e.height,this.width=this.width>e.width?this.width:e.width,this.height=this.bottom-this.top,t.push(e),e.parent=this,this.$el.prepend(e.$el),this.lazyloaded=!1},d.prototype.hasVacancy=function(){return this.height<w.height()*x.PAGE_TO_SCREEN_RATIO},d.prototype.appendTo=function(e){this.onscreen||(this.$el.appendTo(e),this.onscreen=!0)},d.prototype.prependTo=function(e){this.onscreen||(this.$el.prependTo(e),this.onscreen=!0)},d.prototype.stash=function(e){this.onscreen&&(this.$el.appendTo(e),this.onscreen=!1)},d.prototype.remove=function(){this.onscreen&&(this.$el.remove(),this.onscreen=!1),this.cleanup()},d.prototype.cleanup=function(){var e=this.items,t;this.parent=null,L.remove(this);while(t=e.pop())t.cleanup()},d.prototype.lazyload=function(e){var t=this.$el,n,r;if(!this.lazyloaded){for(n=0,r=t.length;n<r;n++)e.call(t[n],t[n]);this.lazyloaded=!0}};var L=function(){var e=[];return{generatePageId:function(t){return e.push(t)-1},lookup:function(t){return e[t]||null},remove:function(t){var n=t.id;return e[n]?(e[n]=null,!0):!1}}}();m.prototype.clone=function(){var e=new m(this.$el);return e.top=this.top,e.bottom=this.bottom,e.width=this.width,e.height=this.height,e},m.prototype.remove=function(){this.$el.remove(),v(this,this.parent),this.cleanup()},m.prototype.cleanup=function(){this.parent=null},S.ListView=r,S.Page=d,S.ListItem=m,b(S),S.noConflict=function(){return e.infinity=E,b(E),S}}(window,Math,jQuery),function(e,t,n,r){var i={version:.2,logoheight:100,spacing:20,fixLogoAfter:220,states:{SCROLLED_PAST_NAV:"scrolled-past-nav"}},s=$(e),o=i;o.init=function(){o.$B=$("body"),$("figure.responsive").picture(),$(".product").each(function(e,t){$(this).css("transition-delay",50+e*50+"ms")}),$("#product .image_container").click(function(){o.$B.toggleClass("imagezoom")}),o.$B.addClass("ontouchstart"in window?"touch":"no-touch"),$(".category.selected").length&&$("#nav").addClass("cat_active"),$("header").hover(function(){o.$B.addClass("hover-header")},function(){o.$B.removeClass("hover-header")}),$("#logotype").click(function(e){o._bodyHasState(o.states.SCROLLED_PAST_NAV)&&(e.preventDefault(),s.scrollTop(0))}),$("#products .product").click(function(){$(this).find("h1 a").trigger("click")}),s.on({load:o.loaded,resize:o.resize,scroll:o.scroll}),o.$B.addClass("js")},o.loaded=function(t){e.log("loaded"),o.$B.addClass("loaded")},o.resize=function(e){window.log("resize")},o.scroll=function(t){e.log(s.scrollTop(),o.fixLogoAfter),s.scrollTop()>o.fixLogoAfter?o._adjustBodyState(o.states.SCROLLED_PAST_NAV):o._adjustBodyState(o.states.SCROLLED_PAST_NAV,!0)},o._adjustBodyState=function(e,t){var n=o._bodyHasState(e);n&&t===!0?o.$B.removeClass(e):!n&&t===r&&o.$B.addClass(e)},o._bodyHasState=function(e){return o.$B.hasClass(e)},$(o.init)}(window,document,jQuery);